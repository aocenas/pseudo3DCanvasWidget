define("console",[],function(){return window.console||(console={}),console.log=console.log||function(){},console.log=function(){},console}),define("Point",["console"],function(a){var b=function(a,b,c,d,e){this.x=a,this.y=b,this.z=c,this.diameter=d,this.color=e};return b.prototype={rotate:function(b,c,d,e){a.log("rotating point x,y,z = "+this.x+","+this.y+","+this.z),a.log("angle xy,xz,yz "+b/Math.PI+"PI,"+c/Math.PI+"PI,"+d/Math.PI+"PI, around x,y,z = "+e.x+","+e.y+","+e.z);var f=this.x-e.x,g=this.y-e.y,h=this.z-e.z,i=Math.round(Math.sqrt(Math.pow(h,2)+Math.pow(f,2))),j=f<0?h<0?3:4:h<0?2:1,k=i===0?0:Math.asin(Math.abs(f)/i);switch(j){case 1:break;case 2:k=Math.PI-k;break;case 3:k=Math.PI+k;break;case 4:k=Math.PI*2-k}a.log("angleFromCenter = "+k/Math.PI+"PI"),this.x=Math.sin(c+k)*i+e.x,this.z=Math.cos(c+k)*i+e.z,a.log("after rotation x,y,z = "+this.x+","+this.y+","+this.z)}},b}),define("Color",[],function(){return function(a,b,c){this.rgb="rgb("+a+","+b+","+c+")"}}),define("globals",[],function(){var a=5,b=15,c=400,d=200,e=200,f=200,g=c/2,h=d/2;return{POINT_RADIUS:a,GRID_SPACING:b,CONTEXT_WIDTH:c,CONTEXT_HEIGHT:d,CONTEXT_DISTANCE:e,Z00:f,X00:g,Y00:h}}),define("Context3D",["console","globals"],function(a,b){var c=function(a){this.canvas=a,this.context=a.getContext("2d")};return c.prototype={drawPoint:function(c){a.log("Drawing point x = "+c.x+", y = "+c.y+", z = "+c.z+", radius = "+c.diameter);var d=(b.CONTEXT_WIDTH-b.CONTEXT_WIDTH/c.z*b.CONTEXT_DISTANCE)/2,e=(b.CONTEXT_HEIGHT-b.CONTEXT_HEIGHT/c.z*b.CONTEXT_DISTANCE)/2,f=c.x/c.z*b.CONTEXT_DISTANCE+d,g=c.y/c.z*b.CONTEXT_DISTANCE+e,h=c.diameter/c.z*b.CONTEXT_DISTANCE;a.log("Drawing to posX = "+f+", posY = "+g+", radius = "+h),h>0&&f-h>0&&f+h<b.CONTEXT_WIDTH&&g-h>0&&g+h<b.CONTEXT_HEIGHT&&(this.context.fillStyle=c.rgb,this.context.moveTo(f+h,g),this.context.arc(f,g,h,0,Math.PI*2,!1))},fill:function(){this.context.fill()},stroke:function(){this.context.stroke()},beginPath:function(){this.context.beginPath()},drawPointGrid:function(a,b){this.beginPath(),a.points.forEach(function(a){this.drawPoint(a)},this);try{b.apply(this)}catch(c){this.stroke()}},clear:function(){this.canvas.width=this.canvas.width}},c}),define("PointGrid",["console","Point","globals","Color"],function(a,b,c,d){return PointGrid=function(a){this.mapGrid=a,this.points=[];for(var e=0,f=a.length;e<f;e++)for(var g=0,h=a[e].length;g<h;g++)for(var i=0,j=a[e][g].length;i<j;i++)if(a[e][g][i]==1){var k=i-Math.floor(j/2),l=g-Math.floor(h/2),m=e-Math.floor(f/2),n=k*c.GRID_SPACING+c.X00,o=l*c.GRID_SPACING+c.Y00,p=m*c.GRID_SPACING+c.Z00;this.points[this.points.length]=new b(n,o,p,c.POINT_RADIUS,new d(0,0,0))}},PointGrid.prototype={rotate:function(a,b,c,d){this.points.forEach(function(e){e.rotate(a,b,c,d)})}},PointGrid});var Pseudo3D={};require(["Context3D","PointGrid","globals"],function(a,b,c){Pseudo3D={start:function(d,e){var f=document.getElementById(d.canvasId),g=new a(f),h=new b(e),i=0,j=function(){g.clear(),g.drawPointGrid(h,g.fill),h.rotate(0,d.oneStepAngle,0,{x:c.X00+d.centerXOffset,y:c.Y00,z:c.Z00+d.centerZOffset}),i+=d.oneStepAngle,i<=2*Math.PI+d.oneStepAngle&&setTimeout(j,d.oneStepTime)};j()}}}),define("Pseudo3D",function(){})